<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>56.0</apiVersion>
    <assignments>
        <name>Count_Filter_Results</name>
        <label>Count Filter Results</label>
        <locationX>974</locationX>
        <locationY>2114</locationY>
        <assignmentItems>
            <assignToReference>nbrCountExactMatch</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Filter_Match_All</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>nbrCount5Digits</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Filter_Match_First_5_Digits</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>nbrCount4Digits</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Filter_Match_First_4_Digits</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>nbrCount3Digits</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Filter_Match_First_3_Digits</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>nbrCount2Digits</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Filter_Match_First_2_Digits</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>nbrCount1Digit</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Filter_Match_First_1_Digit</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>nbrCountCountry</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Get_Delivery_Schedules</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Matching_Schedule</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Count_Matched_Results</name>
        <label>Count Matched Results</label>
        <locationX>974</locationX>
        <locationY>2522</locationY>
        <assignmentItems>
            <assignToReference>nbrCountMatches</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>colMatchingSchedules</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>One_Or_More_Matches</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Best_Delivery_Schedule</name>
        <label>Set Best Delivery Schedule</label>
        <locationX>1062</locationX>
        <locationY>3038</locationY>
        <assignmentItems>
            <assignToReference>recBestDeliverySchedule</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Delivery_Schedules</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Delivery_Schedules</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Days_to_Delivery_Start</name>
        <label>Set Days to Delivery Start</label>
        <locationX>974</locationX>
        <locationY>4046</locationY>
        <assignmentItems>
            <assignToReference>DaysToDeliveryStart</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxDaysToDeliveryStart</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>productionEndWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxProductionEndWeekdayNumber</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Delivery_For_This_Week</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Address_PostalCode</name>
        <label>Set Delivery Address PostalCode</label>
        <locationX>974</locationX>
        <locationY>1250</locationY>
        <assignmentItems>
            <assignToReference>txtPostalCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recOpportunity.Delivery_Address__PostalCode__s</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>txtCountryCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recOpportunity.Delivery_Address__CountryCode__s</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Delivery_Schedules</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Day_To_Friday</name>
        <label>Set Delivery Day To Friday</label>
        <locationX>1370</locationX>
        <locationY>3854</locationY>
        <assignmentItems>
            <assignToReference>deliveryStartWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>6.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Days_to_Delivery_Start</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Day_To_Monday</name>
        <label>Set Delivery Day To Monday</label>
        <locationX>314</locationX>
        <locationY>3854</locationY>
        <assignmentItems>
            <assignToReference>deliveryStartWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>2.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Days_to_Delivery_Start</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Day_To_Next_Possible</name>
        <label>Set Delivery Day To Next Possible</label>
        <locationX>1634</locationX>
        <locationY>3854</locationY>
        <assignmentItems>
            <assignToReference>deliveryStartWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxNextPossibleDeliveryStart</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Days_to_Delivery_Start</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Day_To_Thursday</name>
        <label>Set Delivery Day To Thursday</label>
        <locationX>1106</locationX>
        <locationY>3854</locationY>
        <assignmentItems>
            <assignToReference>deliveryStartWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>5.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Days_to_Delivery_Start</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Day_To_Tuesday</name>
        <label>Set Delivery Day To Tuesday</label>
        <locationX>578</locationX>
        <locationY>3854</locationY>
        <assignmentItems>
            <assignToReference>deliveryStartWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>3.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Days_to_Delivery_Start</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Day_To_Wednesday</name>
        <label>Set Delivery Day To Wednesday</label>
        <locationX>842</locationX>
        <locationY>3854</locationY>
        <assignmentItems>
            <assignToReference>deliveryStartWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>4.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Days_to_Delivery_Start</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Days</name>
        <label>Set Delivery Days</label>
        <locationX>974</locationX>
        <locationY>3230</locationY>
        <assignmentItems>
            <assignToReference>txtDeliveryDays</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recBestDeliverySchedule.Delivery_Days__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>deliveryTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recBestDeliverySchedule.Delivery_Duration__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Which_Day_Production_Ends</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Start_Offset</name>
        <label>Set Delivery Start Offset</label>
        <locationX>710</locationX>
        <locationY>4262</locationY>
        <assignmentItems>
            <assignToReference>deliveryStartOffset</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxDaysToDeliveryStart</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Delivery_Time_And_Dates</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Start_Offset_Plus_7</name>
        <label>Set Delivery Start Offset Plus 7</label>
        <locationX>974</locationX>
        <locationY>4262</locationY>
        <assignmentItems>
            <assignToReference>deliveryStartOffset</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxDaysToDeliveryStart</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Delivery_Time_And_Dates</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Delivery_Time_And_Dates</name>
        <label>Set Delivery Time And Dates</label>
        <locationX>974</locationX>
        <locationY>4454</locationY>
        <assignmentItems>
            <assignToReference>dateDeliveryStart</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxDeliveryStartDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>dataDeliveryEnd</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxDeliveryEndDate</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_Earliest_Delivery_Date</name>
        <label>Set Earliest Delivery Date</label>
        <locationX>974</locationX>
        <locationY>3638</locationY>
        <assignmentItems>
            <assignToReference>nbrEarliestDeliveryStartWeekDay</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxEarliestDeliveryStartDate</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Next_Possible_Delivery_Day</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opportunity</name>
        <label>Set Opportunity</label>
        <locationX>1590</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>recOpportunity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Opportunity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>opportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Deliver_To</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_OpportunityId</name>
        <label>Set OpportunityId</label>
        <locationX>1326</locationX>
        <locationY>350</locationY>
        <assignmentItems>
            <assignToReference>opportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recOpportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Deliver_To</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Production_End_Day_To_Friday</name>
        <label>Set Production End Day To Friday</label>
        <locationX>1370</locationX>
        <locationY>3446</locationY>
        <assignmentItems>
            <assignToReference>productionEndWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>6.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Earliest_Delivery_Date</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Production_End_Day_To_Monday</name>
        <label>Set Production End Day To Monday</label>
        <locationX>314</locationX>
        <locationY>3446</locationY>
        <assignmentItems>
            <assignToReference>productionEndWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>2.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Earliest_Delivery_Date</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Production_End_Day_To_Thursday</name>
        <label>Set Production End Day To Thursday</label>
        <locationX>1106</locationX>
        <locationY>3446</locationY>
        <assignmentItems>
            <assignToReference>productionEndWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>5.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Earliest_Delivery_Date</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Production_End_Day_To_Tuesday</name>
        <label>Set Production End Day To Tuesday</label>
        <locationX>578</locationX>
        <locationY>3446</locationY>
        <assignmentItems>
            <assignToReference>productionEndWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>3.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Earliest_Delivery_Date</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Production_End_Day_To_Wednesday</name>
        <label>Set Production End Day To Wednesday</label>
        <locationX>842</locationX>
        <locationY>3446</locationY>
        <assignmentItems>
            <assignToReference>productionEndWeekday</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>4.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Earliest_Delivery_Date</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Rank_1_Match</name>
        <label>Set Rank 1 Match</label>
        <locationX>50</locationX>
        <locationY>2330</locationY>
        <assignmentItems>
            <assignToReference>nbrMatchRank</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>colMatchingSchedules</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_Match_All</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count_Matched_Results</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Rank_2_Match</name>
        <label>Set Rank 2 Match</label>
        <locationX>314</locationX>
        <locationY>2330</locationY>
        <assignmentItems>
            <assignToReference>nbrMatchRank</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>2.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>colMatchingSchedules</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_Match_First_5_Digits</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count_Matched_Results</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Rank_3_Match</name>
        <label>Set Rank 3 Match</label>
        <locationX>578</locationX>
        <locationY>2330</locationY>
        <assignmentItems>
            <assignToReference>nbrMatchRank</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>3.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>colMatchingSchedules</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_Match_First_4_Digits</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count_Matched_Results</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Rank_4_Match</name>
        <label>Set Rank 4 Match</label>
        <locationX>842</locationX>
        <locationY>2330</locationY>
        <assignmentItems>
            <assignToReference>nbrMatchRank</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>4.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>colMatchingSchedules</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_Match_First_3_Digits</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count_Matched_Results</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Rank_5_Match</name>
        <label>Set Rank 5 Match</label>
        <locationX>1106</locationX>
        <locationY>2330</locationY>
        <assignmentItems>
            <assignToReference>nbrMatchRank</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>5.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>colMatchingSchedules</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_Match_First_2_Digits</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count_Matched_Results</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Rank_6_Match</name>
        <label>Set Rank 6 Match</label>
        <locationX>1370</locationX>
        <locationY>2330</locationY>
        <assignmentItems>
            <assignToReference>nbrMatchRank</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>6.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>colMatchingSchedules</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_Match_First_1_Digit</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count_Matched_Results</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Rank_7_Match</name>
        <label>Set Rank 7 Match</label>
        <locationX>1634</locationX>
        <locationY>2330</locationY>
        <assignmentItems>
            <assignToReference>nbrMatchRank</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>7.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>colMatchingSchedules</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Delivery_Schedules</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count_Matched_Results</targetReference>
        </connector>
    </assignments>
    <collectionProcessors>
        <name>Filter_Match_All</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Match All</label>
        <locationX>974</locationX>
        <locationY>1466</locationY>
        <assignNextValueToReference>currentItem_Filter_Match_First_1_Digit</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Delivery_Schedules</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Postal_Code__c</leftValueReference>
            <operator>StartsWith</operator>
            <rightValue>
                <elementReference>fxAllDigits</elementReference>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Country_Code__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>txtCountryCode</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_Match_First_5_Digits</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_Match_First_1_Digit</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Match First 1 Digit</label>
        <locationX>974</locationX>
        <locationY>2006</locationY>
        <assignNextValueToReference>currentItem_Filter_Match_First_1_Digit</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Delivery_Schedules</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Postal_Code__c</leftValueReference>
            <operator>StartsWith</operator>
            <rightValue>
                <elementReference>fxFirst1Digit</elementReference>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Country_Code__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>txtCountryCode</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Count_Filter_Results</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_Match_First_2_Digits</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Match First 2 Digits</label>
        <locationX>974</locationX>
        <locationY>1898</locationY>
        <assignNextValueToReference>currentItem_Filter_Match_First_1_Digit</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Delivery_Schedules</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Postal_Code__c</leftValueReference>
            <operator>StartsWith</operator>
            <rightValue>
                <elementReference>fxFirst2Digits</elementReference>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Country_Code__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>txtCountryCode</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_Match_First_1_Digit</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_Match_First_3_Digits</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Match First 3 Digits</label>
        <locationX>974</locationX>
        <locationY>1790</locationY>
        <assignNextValueToReference>currentItem_Filter_Match_First_1_Digit</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Delivery_Schedules</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Postal_Code__c</leftValueReference>
            <operator>StartsWith</operator>
            <rightValue>
                <elementReference>fxFirst3Digits</elementReference>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Country_Code__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>txtCountryCode</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_Match_First_2_Digits</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_Match_First_4_Digits</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Match First 4 Digits</label>
        <locationX>974</locationX>
        <locationY>1682</locationY>
        <assignNextValueToReference>currentItem_Filter_Match_First_1_Digit</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Delivery_Schedules</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Postal_Code__c</leftValueReference>
            <operator>StartsWith</operator>
            <rightValue>
                <elementReference>fxFirst4Digits</elementReference>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Country_Code__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>txtCountryCode</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_Match_First_3_Digits</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_Match_First_5_Digits</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Match First 5 Digits</label>
        <locationX>974</locationX>
        <locationY>1574</locationY>
        <assignNextValueToReference>currentItem_Filter_Match_First_1_Digit</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Delivery_Schedules</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Postal_Code__c</leftValueReference>
            <operator>StartsWith</operator>
            <rightValue>
                <elementReference>fxFirst5Digits</elementReference>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_Match_First_1_Digit.Country_Code__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>txtCountryCode</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_Match_First_4_Digits</targetReference>
        </connector>
    </collectionProcessors>
    <decisions>
        <name>Deliver_To</name>
        <label>Deliver To?</label>
        <locationX>1524</locationX>
        <locationY>842</locationY>
        <defaultConnectorLabel>No Delivery Location</defaultConnectorLabel>
        <rules>
            <name>Account</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recOpportunity.Deliver_To__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Account</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_Production_End_Date</targetReference>
            </connector>
            <label>Account</label>
        </rules>
        <rules>
            <name>Building</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recOpportunity.Deliver_To__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Building</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_Production_End_Date</targetReference>
            </connector>
            <label>Building</label>
        </rules>
        <rules>
            <name>Factory</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recOpportunity.Deliver_To__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Factory</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_Production_End_Date</targetReference>
            </connector>
            <label>Factory</label>
        </rules>
        <rules>
            <name>Warehouse</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recOpportunity.Deliver_To__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Warehouse</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_Production_End_Date</targetReference>
            </connector>
            <label>Warehouse</label>
        </rules>
        <rules>
            <name>Other</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recOpportunity.Delivery_Location__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_Production_End_Date</targetReference>
            </connector>
            <label>Other</label>
        </rules>
    </decisions>
    <decisions>
        <name>Delivery_For_This_Week</name>
        <label>Delivery For This Week?</label>
        <locationX>974</locationX>
        <locationY>4154</locationY>
        <defaultConnector>
            <targetReference>Set_Delivery_Time_And_Dates</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Unknown</defaultConnectorLabel>
        <rules>
            <name>Same_Week</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>productionEndWeekday</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>deliveryStartWeekday</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Delivery_Start_Offset</targetReference>
            </connector>
            <label>Same Week</label>
        </rules>
        <rules>
            <name>Next_Week</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>productionEndWeekday</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>deliveryStartWeekday</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Delivery_Start_Offset_Plus_7</targetReference>
            </connector>
            <label>Next Week</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Production_End_Date</name>
        <label>Has Production End Date?</label>
        <locationX>1524</locationX>
        <locationY>1142</locationY>
        <defaultConnectorLabel>No Production End Date</defaultConnectorLabel>
        <rules>
            <name>Production_End_Date</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ProductionEndDate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Delivery_Address_PostalCode</targetReference>
            </connector>
            <label>Production End Date</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Opportunity_Record_Provided</name>
        <label>Is Opportunity Record Provided?</label>
        <locationX>1524</locationX>
        <locationY>242</locationY>
        <defaultConnector>
            <targetReference>Get_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Opportunity Record</defaultConnectorLabel>
        <rules>
            <name>Opportunity_Record</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recOpportunity</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_OpportunityId</targetReference>
            </connector>
            <label>Opportunity Record</label>
        </rules>
    </decisions>
    <decisions>
        <name>Matching_Schedule</name>
        <label>Matching Schedule?</label>
        <locationX>974</locationX>
        <locationY>2222</locationY>
        <defaultConnector>
            <targetReference>Count_Matched_Results</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Match</defaultConnectorLabel>
        <rules>
            <name>Match_All</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>nbrCountExactMatch</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Rank_1_Match</targetReference>
            </connector>
            <label>Match All</label>
        </rules>
        <rules>
            <name>Match_On_5_Digits</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>nbrCount5Digits</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Rank_2_Match</targetReference>
            </connector>
            <label>Match On 5 Digits</label>
        </rules>
        <rules>
            <name>Match_On_4_Digits</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>nbrCount4Digits</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Rank_3_Match</targetReference>
            </connector>
            <label>Match On 4 Digits</label>
        </rules>
        <rules>
            <name>Match_On_3_Digits</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>nbrCount3Digits</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>nbrMatchRank</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>4.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Rank_4_Match</targetReference>
            </connector>
            <label>Match On 3 Digits</label>
        </rules>
        <rules>
            <name>Match_On_2_Digits</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>nbrCount2Digits</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Rank_5_Match</targetReference>
            </connector>
            <label>Match On 2 Digits</label>
        </rules>
        <rules>
            <name>Match_on_First_Digit</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>nbrCount1Digit</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Rank_6_Match</targetReference>
            </connector>
            <label>Match on First Digit</label>
        </rules>
        <rules>
            <name>Match_Country</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>nbrCountCountry</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Rank_7_Match</targetReference>
            </connector>
            <label>Match Country</label>
        </rules>
    </decisions>
    <decisions>
        <name>Next_Possible_Delivery_Day</name>
        <label>Next Possible Delivery Day?</label>
        <locationX>974</locationX>
        <locationY>3746</locationY>
        <defaultConnector>
            <targetReference>Set_Delivery_Day_To_Next_Possible</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Weekend</defaultConnectorLabel>
        <rules>
            <name>Next_Monday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>txtDeliveryDays</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>fxNextMonday</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Delivery_Day_To_Monday</targetReference>
            </connector>
            <label>Next Monday</label>
        </rules>
        <rules>
            <name>Next_Tuesday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>txtDeliveryDays</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>fxNextTuesday</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Delivery_Day_To_Tuesday</targetReference>
            </connector>
            <label>Next Tuesday</label>
        </rules>
        <rules>
            <name>Next_Wednesday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>txtDeliveryDays</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>fxNextWednesday</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Delivery_Day_To_Wednesday</targetReference>
            </connector>
            <label>Next Wednesday</label>
        </rules>
        <rules>
            <name>Next_Thursday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>txtDeliveryDays</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>fxNextThursday</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Delivery_Day_To_Thursday</targetReference>
            </connector>
            <label>Next Thursday</label>
        </rules>
        <rules>
            <name>Next_Friday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>txtDeliveryDays</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>fxNextFriday</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Delivery_Day_To_Friday</targetReference>
            </connector>
            <label>Next Friday</label>
        </rules>
    </decisions>
    <decisions>
        <name>One_Or_More_Matches</name>
        <label>One Or More Matches?</label>
        <locationX>974</locationX>
        <locationY>2630</locationY>
        <defaultConnectorLabel>No Matches</defaultConnectorLabel>
        <rules>
            <name>One_Match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>nbrCountMatches</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_Delivery_Schedules</targetReference>
            </connector>
            <label>One Match</label>
        </rules>
        <rules>
            <name>More_Than_One_Match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>nbrCountMatches</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_Delivery_Schedules</targetReference>
            </connector>
            <label>More Than One Match</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_Found</name>
        <label>Opportunity Found?</label>
        <locationX>1722</locationX>
        <locationY>458</locationY>
        <defaultConnectorLabel>No Opportunity</defaultConnectorLabel>
        <rules>
            <name>Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Opportunity</targetReference>
            </connector>
            <label>Opportunity</label>
        </rules>
    </decisions>
    <decisions>
        <name>Skip_Automation</name>
        <label>Skip Automation?</label>
        <locationX>655</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>Is_Opportunity_Record_Provided</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Continue</defaultConnectorLabel>
        <rules>
            <name>Abort</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.AutomationBypass__c.SkipAutomation__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>Abort</label>
        </rules>
    </decisions>
    <decisions>
        <name>Which_Day_Production_Ends</name>
        <label>Which WeekDay Production Ends?</label>
        <locationX>974</locationX>
        <locationY>3338</locationY>
        <defaultConnector>
            <targetReference>Set_Earliest_Delivery_Date</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Unknown Weekday</defaultConnectorLabel>
        <rules>
            <name>Sunday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fxProductionEndWeekdayNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Earliest_Delivery_Date</targetReference>
            </connector>
            <label>Sunday</label>
        </rules>
        <rules>
            <name>Monday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fxProductionEndWeekdayNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>2.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Production_End_Day_To_Monday</targetReference>
            </connector>
            <label>Monday</label>
        </rules>
        <rules>
            <name>Tuesday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fxProductionEndWeekdayNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>3.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Production_End_Day_To_Tuesday</targetReference>
            </connector>
            <label>Tuesday</label>
        </rules>
        <rules>
            <name>Wednesday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fxProductionEndWeekdayNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>4.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Production_End_Day_To_Wednesday</targetReference>
            </connector>
            <label>Wednesday</label>
        </rules>
        <rules>
            <name>Thursday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fxProductionEndWeekdayNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>5.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Production_End_Day_To_Thursday</targetReference>
            </connector>
            <label>Thursday</label>
        </rules>
        <rules>
            <name>Friday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fxProductionEndWeekdayNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>6.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Production_End_Day_To_Friday</targetReference>
            </connector>
            <label>Friday</label>
        </rules>
        <rules>
            <name>Saturday</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fxProductionEndWeekdayNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>7.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Earliest_Delivery_Date</targetReference>
            </connector>
            <label>Saturday</label>
        </rules>
    </decisions>
    <description>- Using Filter instead of Loop
- Fixed Delivery Offset
- Fixed the Weekend Issue
- Fixed no matching weekday
20.09.23 Updated to use provided Opportunity Record if Available
02.12.2023: Save Active Version as R2</description>
    <environments>Default</environments>
    <formulas>
        <name>fxAllDigits</name>
        <dataType>String</dataType>
        <expression>{!txtPostalCode}</expression>
    </formulas>
    <formulas>
        <name>fxDaysToDeliveryStart</name>
        <dataType>Number</dataType>
        <expression>IF({!fxDeliveryOffset}&gt;0,{!fxDeliveryOffset},{!fxDeliveryOffset}+7)</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>fxDeliveryEndDate</name>
        <dataType>Date</dataType>
        <expression>{!fxDeliveryStartDate}+{!deliveryTime}</expression>
    </formulas>
    <formulas>
        <name>fxDeliveryOffset</name>
        <dataType>Number</dataType>
        <expression>{!productionEndWeekday}-{!deliveryStartWeekday}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>fxDeliveryStartDate</name>
        <dataType>Date</dataType>
        <expression>{!ProductionEndDate}+{!fxDaysToDeliveryStart}</expression>
    </formulas>
    <formulas>
        <name>fxEarliestDeliveryStartDate</name>
        <dataType>Number</dataType>
        <expression>IF(OR({!productionEndWeekday}=6,{!productionEndWeekday}=7,{!productionEndWeekday}=1),2,{!productionEndWeekday}+1)</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>fxFirst1Digit</name>
        <dataType>String</dataType>
        <expression>LEFT({!txtPostalCode},1)</expression>
    </formulas>
    <formulas>
        <name>fxFirst2Digits</name>
        <dataType>String</dataType>
        <expression>LEFT({!txtPostalCode},2)</expression>
    </formulas>
    <formulas>
        <name>fxFirst3Digits</name>
        <dataType>String</dataType>
        <expression>Left({!txtPostalCode},3)</expression>
    </formulas>
    <formulas>
        <name>fxFirst4Digits</name>
        <dataType>String</dataType>
        <expression>LEFT({!txtPostalCode},4)</expression>
    </formulas>
    <formulas>
        <name>fxFirst5Digits</name>
        <dataType>String</dataType>
        <expression>LEFT({!txtPostalCode},5)</expression>
    </formulas>
    <formulas>
        <name>fxNextFriday</name>
        <dataType>String</dataType>
        <expression>TEXT(IF({!nbrEarliestDeliveryStartWeekDay}&lt;6,6,0))</expression>
    </formulas>
    <formulas>
        <name>fxNextMonday</name>
        <dataType>String</dataType>
        <expression>TEXT(IF(OR({!nbrEarliestDeliveryStartWeekDay}=6,{!nbrEarliestDeliveryStartWeekDay}=7,{!nbrEarliestDeliveryStartWeekDay}&lt;2),2,0))</expression>
    </formulas>
    <formulas>
        <name>fxNextPossibleDelivery</name>
        <dataType>String</dataType>
        <expression>LEFT({!txtDeliveryDays},1)</expression>
    </formulas>
    <formulas>
        <name>fxNextPossibleDeliveryStart</name>
        <dataType>Number</dataType>
        <expression>VALUE(LEFT({!txtDeliveryDays},1))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>fxNextThursday</name>
        <dataType>String</dataType>
        <expression>TEXT(IF({!nbrEarliestDeliveryStartWeekDay}&lt;5,5,0))</expression>
    </formulas>
    <formulas>
        <name>fxNextTuesday</name>
        <dataType>String</dataType>
        <expression>TEXT(IF({!nbrEarliestDeliveryStartWeekDay}&lt;3,3,0))</expression>
    </formulas>
    <formulas>
        <name>fxNextWednesday</name>
        <dataType>String</dataType>
        <expression>TEXT(IF({!nbrEarliestDeliveryStartWeekDay}&lt;4,4,0))</expression>
    </formulas>
    <formulas>
        <name>fxNextWeek</name>
        <dataType>Number</dataType>
        <expression>IF(OR({!fxProductionEndWeekdayNumber}=6,{!fxProductionEndWeekdayNumber}=7,{!fxProductionEndWeekdayNumber}&lt;6),5,0)</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>fxProductionEndWeekday</name>
        <dataType>String</dataType>
        <expression>TEXT({!productionEndWeekday})</expression>
    </formulas>
    <formulas>
        <name>fxProductionEndWeekdayNumber</name>
        <dataType>Number</dataType>
        <expression>WEEKDAY({!ProductionEndDate})</expression>
        <scale>0</scale>
    </formulas>
    <interviewLabel>Opportunit {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opportunity - Assign Delivery Time SubFlow R2</label>
    <loops>
        <name>Loop_Delivery_Schedules</name>
        <label>Loop Delivery Schedules</label>
        <locationX>974</locationX>
        <locationY>2930</locationY>
        <collectionReference>colMatchingSchedules</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Set_Best_Delivery_Schedule</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Set_Delivery_Days</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Delivery_Schedules</name>
        <label>Get Delivery Schedules</label>
        <locationX>974</locationX>
        <locationY>1358</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Filter_Match_All</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Country_Code__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>txtCountryCode</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Delivery_Schedule__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity</name>
        <label>Get Opportunity</label>
        <locationX>1722</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <start>
        <locationX>529</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Skip_Automation</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>colMatchingSchedules</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Delivery_Schedule__c</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_Match_First_1_Digit</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Delivery_Schedule__c</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_on_Valid_RVN_Products</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Configuration_Product__c</objectType>
    </variables>
    <variables>
        <name>dataDeliveryEnd</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>dateDeliveryStart</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>DaysToDeliveryStart</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>DeliveryNextPossible</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>deliveryStartOffset</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>deliveryStartWeekday</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>deliveryTime</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>deliveryWeekday</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>factoryId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>nbrCount1Digit</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>nbrCount2Digits</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>nbrCount3Digits</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>nbrCount4Digits</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>nbrCount5Digits</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>nbrCountCountry</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>nbrCountExactMatch</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>nbrCountMatches</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>nbrEarliestDeliveryStartWeekDay</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>nbrMatchRank</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>99.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>opportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ProductionEndDate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>productionEndWeekday</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>recBestDeliverySchedule</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Delivery_Schedule__c</objectType>
    </variables>
    <variables>
        <name>recOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>txtCountryCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>txtDeliveryDays</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>txtPostalCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
